流操作，通过response对象返回的文件需要以流形式返回
public void xxx(){
	//把文件输出到指定路径的FileOutputStream类使用样例

	String filePath = "/home/temp/"+"文件名称".concat("文件后缀")；
	FileOutputStream  fileOutputStream = new FileOutputStream("路径");//需要注意的是，目标的文件夹需要存在，文件可以不存在
	
	workbook.write(fileOutputStream);//以Excel对象的写出流作为案例
	fileOutputStream.close();//关闭输出流
}








public void SingleDownload(HttpServletResponse response, String filePath) throws IOException {
    File file = new File(filePath);
    InputStream ins = new FileInputStream(file);
    
    // 设置内容类型，适用于文件下载
    response.setContentType("application/octet-stream");
    
    // 使用 URLEncoder 进行编码
    String encodedFileName = URLEncoder.encode(file.getName(), "UTF-8");
    response.setHeader("Content-Disposition", "attachment; filename=\"" + encodedFileName + "\"");
    
    try {
        OutputStream os = response.getOutputStream();
        byte[] b = new byte[2048];
        int len;
        
        // 修正读取数据的方式
        while ((len = ins.read(b)) > 0) {
            os.write(b, 0, len);
        }
        os.flush();
    } catch (IOException ioe) {
        ioe.printStackTrace();
    } finally {
        // 确保流被关闭
        ins.close();
        // os.close(); // 不在这里关闭 OutputStream，因为 Servlet 容器会管理这个流
    }
}